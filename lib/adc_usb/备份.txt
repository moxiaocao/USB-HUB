#include <esp_adc_cal.h>
#include <esp32-hal-adc.h>
#include <Arduino.h> 

#define ain 15 // 定义模拟输入引脚为35

uint16_t adc_value = 0; // 定义一个16位无符号整数变量用于存储ADC采样值
float adc_voltage = 0.0; // 定义一个浮点数变量用于存储ADC电压值

void read_adc(void) // 定义一个函数用于读取ADC采样值和电压值
{
  
  adc_value = analogRead(ain); // 从模拟输入引脚读取采样值并存储到adc_value变量中
  adc_voltage = adc_value * (3.3 / 4095); // 根据采样值计算电压值并存储到adc_voltage变量中
  Serial.printf("采样值：%d 电压值：%.2f", adc_value, adc_voltage); // 通过串口打印采样值和电压值
  Serial.println(); // 换行
  delay(200); // 延时500毫秒
}
